(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.VueTwTypeahead={},a.Vue))})(this,function(a,e){"use strict";var m={exports:{}};(function(s,n){function c(t){return typeof t.value!="function"?(console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function."),!1):!0}function u(t,i){if(!t||!i)return!1;for(var r=0,o=i.length;r<o;r++)try{if(t.contains(i[r]))return!0;if(i[r].contains(t))return!1}catch{return!1}return!1}function l(t){return typeof t.componentInstance<"u"&&t.componentInstance.$isServer}s.exports={bind:function(t,i,r){if(!c(i))return;function o(d){if(!!r.context){var h=d.path||d.composedPath&&d.composedPath();h&&h.length>0&&h.unshift(d.target),!(t.contains(d.target)||u(r.context.popupItem,h))&&t.__vueClickOutside__.callback(d)}}t.__vueClickOutside__={handler:o,callback:i.value};const f="ontouchstart"in document.documentElement?"touchstart":"click";!l(r)&&document.addEventListener(f,o)},update:function(t,i){c(i)&&(t.__vueClickOutside__.callback=i.value)},unbind:function(t,i,r){const o="ontouchstart"in document.documentElement?"touchstart":"click";!l(r)&&t.__vueClickOutside__&&document.removeEventListener(o,t.__vueClickOutside__.handler),delete t.__vueClickOutside__}}})(m);const p=m.exports,_=(s,n)=>{const c=s.__vccOpts||s;for(const[u,l]of n)c[u]=l;return c},k={name:"VueTwTypeahead",directives:{ClickOutside:p},props:{lists:{type:Array,default:[]},ignoredList:{type:Array,default:[]},clearInputWhenClicked:{type:Boolean,default:!1},placeholder:{type:String,default:"Search here..."},inputClass:{type:Array,default:["w-full","px-5","py-3","border","border-gray-400","rounded-lg","outline-none","focus:shadow-outline"]},selectClass:{type:Array,default:["bg-white","border","rounded-md","shadow-md","mt-1"]}},data(){return{search:"",selectedItem:"",showSearchItems:!1,isMouseOverList:!1,searchItemList:this.lists}},computed:{filteredList(){return this.searchItemList.filter(s=>{var n;return s.name.toLowerCase().includes((n=this.search)==null?void 0:n.toLowerCase())&&!this.checkIgnoreListItem(s.id)})},classProps(){return[...this.inputClass]},classSelectProps(){return[...this.selectClass]}},methods:{selectSearchItem(s){this.search=s.name,this.selectedItem=s.name,this.showSearchItems=!1,this.$emit("selected",s),this.clearInputWhenClicked&&(this.search="")},checkIgnoreListItem(s){return this.ignoredList.length>0?this.ignoredList.some(c=>c==s):!1},hideMenu(){this.showSearchItems==!0&&(this.showSearchItems=!1)}},created(){var s,n;if(this.selectedData!=0){const c=this.lists.filter(u=>u.id===this.selectedData);this.selectedItem=(s=c[0])==null?void 0:s.name,this.search=(n=c[0])==null?void 0:n.name}}},y={class:"w-full"},w={class:"mt-1 flex rounded-md shadow-sm"},x=["placeholder"],C={class:"flex flex-col w-full"},I=["onClick"];function g(s,n,c,u,l,t){const i=e.resolveDirective("click-outside");return e.withDirectives((e.openBlock(),e.createElementBlock("div",y,[e.createElementVNode("div",w,[e.withDirectives(e.createElementVNode("input",{type:"text",class:e.normalizeClass(t.classProps),placeholder:c.placeholder,"aria-label":"Search","onUpdate:modelValue":n[0]||(n[0]=r=>l.search=r),onInput:n[1]||(n[1]=r=>l.showSearchItems=!0),ref:"searchBox"},null,42,x),[[e.vModelText,l.search]])]),t.filteredList.length>0&&l.showSearchItems==!0?(e.openBlock(),e.createElementBlock("aside",{key:0,class:e.normalizeClass("absolute z-10 flex flex-col items-start w-64 "+c.selectClass),role:"menu","aria-labelledby":"menu-heading"},[e.createElementVNode("ul",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.filteredList,(r,o)=>(e.openBlock(),e.createElementBlock("li",{class:"px-2 py-3 space-x-2 hover:cursor-pointer hover:bg-blue-600 hover:text-white focus:bg-blue-600 focus:text-white focus:outline-none",key:o,onClick:f=>{t.selectSearchItem(r),l.showSearchItems=!1}},e.toDisplayString(r.name),9,I))),128))])],2)):e.createCommentVNode("",!0)])),[[i,t.hideMenu]])}const v=_(k,[["render",g]]);a.VueTwTypeahead=v,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
